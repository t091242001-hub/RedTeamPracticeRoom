## 1. 執行摘要 (Executive Summary)

### 測試範圍與目標：
1. 靶機名稱:Soccer
2. 難度:Easy
3. IP:10.129.6.141

### 主要發現：
1. 漏洞 ：透過預設密碼和舊版本的檔案上傳功能存在的路徑遍歷漏洞實現遠端程式碼運行（風險等級：High）
2. 漏洞 ：透過基於布林值的SQL盲注列舉資料庫內容實現憑證洩漏（風險等級：High）
3. 漏洞 ：利用未設密碼卻擁有SUID權限的doas透過Python程式碼注入dstat實現權限提升（風險等級：High）

### 攻擊鏈摘要：

透過目錄爆破了解/tiny的登入頁面後，使用預設憑證成功進入檔案上傳頁面，上傳惡意腳本後利用舊版本存在的路徑遍歷漏洞呼叫惡意腳本，獲得系統存取權限，造成內部文件洩漏。洩漏的內部文件可見隱藏的使用者頁面，在其中存在基於布林值的SQL盲注，可列舉資料庫的資料，造成重大憑證洩漏。利用洩漏的憑證登入SSH連線，透過擁有SUID權限的doas呼叫dstat，並使用惡意參數，可實現直達root的權限提升。

### 潛在影響：

1. 舊版本的檔案上傳功能存在的路徑遍歷漏洞可讓攻擊者獲得系統存取權限，造成內部文件洩漏。
2. 基於布林值的SQL盲注，可列舉資料庫的資料，造成重大憑證洩漏。
3. dstat具有外掛程式(Plugin)載入功能，攻擊者可以輕易繞過指令限制，將「受限的指令執行」轉化為「完全的 Root 權限」。

### 修復建議：

1. 立即更改網站的預設憑證。
2. 立刻將網站的上傳頁面更新至最新版本，並設置白名單限制上傳種類。
3. 限制使用者輸入，使用白名單過濾掉特殊符號，避免SQL注入。
4. 針對一般使用者對dstat的外掛程式實施讀寫限制，避免惡意外掛注入。
5. doas設置密碼限制。

---

## 2. 技術發現與攻擊路徑詳述 (Findings)

### 2.1 資訊蒐集(Reconnaissance)
### 2.2 枚舉(Enumeration)
### 2.3 初始存取(Initial Access)
### 2.4 橫向移動(Lateral Movement)
### 2.5 權限提升(Privilege Escalation)
### 2.6 最終成果(Impact)

---

## 3. 學習回顧 (Lessons Learned)

### 成功的部分：
### 浪費時間的部分：
### 新知識點：
### 與實戰對應：
